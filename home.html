<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KidConnect</title>
    <link rel="stylesheet" href="css/home.css">
</head>

<body>
    <div class="navbar-desktop">
        <div class="container">
            <div class="logoAndSearch">
                <a href="#">
                    <img class="logo" src="./images/kidconnect_logo_mobile.svg" alt="kidconnect logo">
                </a>

                <div class="search">
                    <img src="./images/search_icon.svg" alt="">
                    <input type="text" placeholder="Search friends in KidConnect">
                </div>
            </div>

            <ul class="left-nav">
                <li class="icon-description">
                    <a class= "li-a" href="#">

                        <img class="icon home-icon" src="./images/home_icon.svg" alt="home icon">
                        Home
                    </a>
                </li>
                <li class="icon-description" >
                    <a class="li-a" href="./friendrequest.html">

                        <img class="icon" src="./images/friend_request_icon.svg" alt="">
                        <span class="friend-request-badge">3</span>
                        Friend Request
                    </a>
                </li>
                <li class="icon-description">
                    <img class="icon" src="./images/group_icon.svg" alt="">
                    Groups
                </li>
            </ul>

            <ul class="right-nav">
                <li class="icon-description">
                    <a href="#" class="li-a">

                        <img class="icon" src="./images/message_icon.svg" alt="">
                        <span class="message-badge">5</span>
                        Messages
                    </a>
                </li>
                <li class="icon-description">
                    <a href="#" class="li-a">

                        <img class="icon" src="./images/notification_icon.svg" alt="">
                        <span class="notification-badge">3</span>
                        Notifications
                    </a>
                </li>
                <li class="profile-image-name">
                    <a class="li-a" href="./profile.html">
                        <img class="profile-image" src="./images/shutterstock_648907024.jpg" alt="home icon">
                        Anu
                    </a>
                </li>
            </ul>


            <button class="btn-danger">Logout</button>

        </div>
    </div>


    <div class="navbar-tablet">
        <div class="navbar-top d-flex jc-sb ai-c">
            <div class="navbar-top-left d-flex ai-c">
                <img src="./images/kidconnect_logo_mobile.svg" alt="kidconnect logo" class="logo">
                <div class="search-icon-container d-flex ai-c">
                    <img src="./images/search_icon.svg" alt="search icon" class="search-icon">
                    <input type="text" class="search-field" placeholder="Search friends in KidConnect">
                </div>
            </div>
            <div class="navbar-top-right">
                <ul>
                    <li class="links">
                        <a href="#">
                            <img src="./images/home_icon.svg" alt="home icon" class="li-icon-tablet">
                           Home
                        </a>
                    </li>
                    <li class="links ">
                        <a href="#" class="profile-link">
                            <img src="./images/shutterstock_648907024.jpg" alt="profile image" class="profile-img">
                            Anu
                        </a>
                    </li>
                    <button class="logout-tablet">
                        Logout
                    </button>
                </ul>
                
            </div>
        </div>
        
        <div class="navbar-bottom">
            
                <ul class="navbar-bottom-left-ul">
                    <li class="links">
                        <a href="#">
                            <img src="./images/friend_request_icon.svg" alt="friend request icon" class="li-icon-tablet">
                            <span class="friend-request-badge">12</span>
                            Friend Request
                        </a>
                    </li>
                    <li class="links">
                        <a href="#">
                            <img src="./images/group_icon.svg" alt="group icon" class="li-icon-tablet">
                            Groups
                        </a>
                    </li>

                </ul>
                <ul class="navbar-bottom-right-ul">
                    <li class="links">
                        <a href="#">
                            <img src="./images/message_icon.svg" alt="message icon" class="li-icon-tablet">
                            <span class="message-badge">5</span>
                            Messages
                        </a>
                    </li>
                    <li class="links">
                        <a href="#">
                            <img src="./images/notification_icon.svg" alt="notification icon" class="li-icon-tablet">
                            <span class="notification-badge">10</span>
                            Notifications
                        </a>
                    </li>

                </ul>
            
          
        </div>
        
    </div>

    <div class="navbar-mobile hide">
        <div class="navbar-mobile-top">
            <div class="mobile-top-left">
                <a href="#"><img class="logo" src="./images/kidconnect_logo_mobile.svg" alt="kidconnect logo"></a>
                <div class="mobile-search-div">
                    <img src="./images/search_icon.svg" alt="search icon" class="mobile-search-icon">
                    <!-- <img src="./images/back_icon_ios.svg" alt="back icon" class="back-icon "> -->
                    <!-- <input type="text" class="mobile-search-field " class="mobile-search-field"> -->
                </div>
    
            </div>
            <div class="mobile-top-right">
                <div class="grid-div">

                    <a href="#">
                        <img src="./images/home_icon.svg" alt="home icon">
                    </a>
                </div>
                    
                <div class="grid-div">

                    <a href="#" >
                        <img src="./images/shutterstock_648907024.jpg" alt="profile image" class="profile-img">
                    </a>
                </div>
                
                <div class="grid-div ">

                    <button class="mobile-logout">Logout</button>
                </div>
    
            </div>
        </div>

        <div class="navbar-mobile-bottom">

                    <div class="grid-div">

                        <a href="#">
                            <img src="./images/friend_request_icon.svg" alt="friend request icon">
                            <span class="badge">12</span>
                        </a>
                    </div>
                    
                    <div class="grid-div">
                        
                        <a href="#">
                            <img src="./images/group_icon.svg" alt="group icon">
                        </a>
                    </div>
                    
                    <div class="grid-div">
                        
                        <a href="#">
                            <img src="./images/message_icon.svg" alt="message icon">
                            <span class="badge">12</span>
                        </a>
                    </div>
                    
                    <div class="grid-div">
                        
                        <a href="#">
                            <img src="./images/notification_icon.svg" alt="notification icon">
                            <span class="badge">12</span>
                        </a>
                    </div>
                
            
            
           
            
           
        </div>
    
    </div>


    <div class="homepage-feed ">
        <div class="homepage-container">
            <div class="create-post-container">
                <div class="create-post-header">
                    <img src="./images/shutterstock_648907024.jpg" alt="profile image">
                    <input id="status-input" type="text" placeholder="What's on your mind, Anu?">
                </div>

                <hr class="divider-line">

                <div class="create-post-bottom">
                    <label for="image-file-input">
                        <img src="./images/add_a_photo_icon.svg" alt="add a photo icon">
                    </label>
                    <label for="image-file-input">
                        <span>Photo</span>
                    </label>
                    <!--image file input-->
                    <input type="file" id="image-file-input" accept="images/*">
                </div>
            </div>

            <!-- Modal for "Create Post" -->
            <div id="create-post-modal" class="modal">
                <!-- Modal content -->
                <div class="modal-content">
                    <div class="modal-header">
                        <span></span><!--empty span for css simplicity-->
                        <span class="modal-header-title">Create Post</span>
                        <span class="close">&times;</span>
                    </div>

                    <hr class="modal-divider-line">

                    <div class="modal-body">
                        <div class="profile-image-and-name-modal">
                            <img  class="profile-image-modal" src="./images/shutterstock_648907024.jpg" alt="">
                            <span class="profile-name-modal">Anu Lama</span>
                        </div>
                        
                        <textarea id="status-field-modal" placeholder="What's on your mind?" rows=4></textarea>

                        <div class="image-preview-div">
                            <img src="" alt="preview of selected image" id="image-preview">
                            <span id="image-preview-close-btn">&times;</span>
                        </div>

                        <div class="modal-image-upload-label">
                            <div class="flex-div">
                                <label for="image-file-input">
                                    <span class="image-upload-desc">Add to your post</span>
                                </label>
                                <label for="image-file-input">
                                    <img class="modal-add-photo-icon"src="./images/add_a_photo_icon.svg" alt="add a photo icon" width="40px">
                                </label>
                            </div>
                        </div>
                        <button id="modal-post-btn">Post</button>
                    </div>
                </div>
            </div>

            <div class="post-container">
                <div class="post">
                    <div class="post-header">
                        <img src="./images/shutterstock_648907024.jpg" alt="">
                        <span class="name">Anu Lama</span>
                        <span class="span-desc">updated her profile picture</span>
                    </div>
                    <div class="post-image">
                        <img src="./images/shutterstock_648907024.jpg" alt="">
                    </div>

                    <div class="post-bottom">
                        <div class="likes-icon-and-info">
                            <img src="./images/red_heart_icon.svg" alt="" class="red-heart-icon">
                            <span class="like-info">12 likes</span>
                        </div>
                        <hr class="divider-line">
                        <div class="icons-and-actions">
                            <div class="action">
                                <img class="action-icon" src="./images/heart_icon.svg" alt="">
                                <span class="description">Like</span>
                            </div>
                            <div class="action ">
                                <img class="action-icon" src="./images/message_icon.svg" alt="">
                                <span class="description">Comment</span>
                            </div>
                            <div class="action ">
                                <img class="action-icon" src="./images/share_icon.svg" alt="">
                                <span class="description">Share</span>
                            </div>
                        </div>

                        <hr class="divider-line">

                        <div class="comment-container">
                            <div class="comment-input-container">
                                <img src="./images/shutterstock_648907024.jpg" alt="">
                                <input type="text" placeholder="Add a comment">
                                <span class="action-post">Post</span>
                            </div>
                        </div>
                    </div>


                </div>
                <div class="post">
                    <div class="post-header">
                        <img src="./images/shutterstock_648907024.jpg" alt="">
                        <span class="name">Anu Lama</span>
                        <span class="span-desc">updated her profile picture</span>
                    </div>
                    <div class="post-image">
                        <img src="./images/shutterstock_648907024.jpg" alt="">
                    </div>
                    <div class="post-bottom">
                        <div class="likes-icon-and-info">
                            <img src="./images/red_heart_icon.svg" alt="" class="red-heart-icon">
                            <span class="like-info">12 likes</span>
                        </div>

                        <hr class="divider-line">
                        <div class="icons-and-actions">
                            <div class="action">
                                <img class="action-icon" src="./images/heart_icon.svg" alt="">
                                <span class="description">Like</span>
                            </div>
                            <div class="action ">
                                <img class="action-icon" src="./images/message_icon.svg" alt="">
                                <span class="description">Comment</span>
                            </div>
                            <div class="action ">
                                <img class="action-icon" src="./images/share_icon.svg" alt="">
                                <span class="description">Share</span>
                            </div>
                        </div>
                        <hr class="divider-line">

                        <div class="comment-container">
                            <div class="comment-input-container">
                                <img src="./images/shutterstock_648907024.jpg" alt="">
                                <input type="text" placeholder="Add a comment">
                                <span class="action-post">Post</span>
                            </div>
                        </div>


                    </div>



                </div>
            </div>

        </div>
    </div>

    <script>
        const fileInput = document.getElementById('image-file-input');

            const statusInput = document.getElementById('status-input');

            // statusInput.onclick = openModal;
            statusInput.addEventListener('click', openModal);

            // fileInput.onchange = openModal();
            fileInput.addEventListener('change', openModal);

            function openModal(e) {
                // Get the modal
                const modal = document.getElementById("create-post-modal");
                modal.style.display = "block";

                // Get the <span> element that closes the modal
                const span = document.getElementsByClassName("close")[0];

                const imgPreview = document.getElementById("image-preview");
                const imagePreviewDiv = document.getElementsByClassName("image-preview-div")[0];
                //const file = fileInput.files[0];
                if (e.target.files) {
                    const file = e.target.files[0];
                    let reader = new FileReader();
                    reader.readAsDataURL(file);
                    reader.onload = function () {
                        console.log(reader.result);
                        imagePreviewDiv.style.display = "block";
                        imgPreview.src = reader.result;

                        const imagePreviewCloseBtn = document.getElementById("image-preview-close-btn");
                        imagePreviewCloseBtn.onclick = function () {
                            e.target.value = '';
                            imagePreviewDiv.style.display = "none";
                        }

                    }
                } else {
                    document.getElementById('status-field-modal').focus();


                }
                // When the user clicks on <span> (x), close the modal
                span.onclick = function () {
                    modal.style.display = "none";
                    e.target.value = '';
                    imagePreviewDiv.style.display = "none";
                }

                // When the user clicks on <span> (x) on the imagePreviewDiv, hide the imagePreviewDiv, set e.target.value = '' 

                // When the user clicks anywhere outside of the modal, close it
                window.onclick = function (event) {
                    if (event.target == modal) {
                        modal.style.display = "none";
                        e.target.value = '';
                        imagePreviewDiv.style.display = "none";
                    }
                }

            }


        
    </script>


</body>

</html>